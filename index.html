<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmilioGames</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .iframe-container {
            width: 75%; /* Adjust as needed */
            height: 650px; /* Set your desired height */
        }
        #game-iframe, #form-iframe {
            width: 100%;
            height: 100%;
            border: none; /* Removes the border */
        }
    </style>
</head>
<body>
    <h1>This is the <span style="color: #008000;">Emilio</span> game Website.</h1>

    <p id="greeting">Welcome!</p>
    <p>New update</p>
    <b>The Games should save now!!!</b>
    <p>Version Beta 1.14</p>
    <b>Blacklisted</b>
    <p>Blake Paske</p>
    <p>Xavier</p>
    <p>Katie Haberberger</p>
    <p>Matthew Rushing</p>

    <h1>QASGG2</h1>
    <h2>If you want cloak go to</h2>
    <a href="https://qasgg2.netlify.app/" target="_blank" rel="noopener">
        <button>QASGG2 Website</button>
    </a>

    <div class="iframe-container">
        <iframe id="game-iframe" src="https://qasgg2.netlify.app/" title="QASGG2"></iframe>
        <button class="fullscreen-button" onclick="toggleFullscreen()">Fullscreen</button>
        <button class="mute-button" onclick="toggleMute()">Mute</button>
    </div>

    <div class="iframe-container">
        <iframe id="form-iframe" src="https://docs.google.com/forms/d/e/1FAIpQLSc7IXM7_pEu3nVBYwJOkf46UfuiZhKcpVEXC7cZyHaTlCWajw/viewform?embedded=true" width="700" height="520" frameborder="0" marginheight="0" marginwidth="0" loading="lazy">Loadingâ€¦</iframe>
    </div>

    <script>
        // Redirect to crazygames.com if the username is not valid
        function redirectToCrazyGames() {
            window.location.href = "https://crazygames.com";
        }

        // Function to ask for user's name
        function askForName() {
            let storedName = localStorage.getItem('userName');
            const validUsernames = [
                "charlotte", "katie", "lauryn", "titan",
                "sophia", "cameron", "arabella", "sydney",
                "august", "paxton", "jonathan", "blake",
                "lily", "brady", "matthew", "grant",
                "carter", "peyton", "julia", "marlena",
                "joshua", "tate", "emily",
                "jillian", "waylynn", "emma", "samuel",
                "hailey", "brenin", "ryker", "ethan",
                "addison", "john", "leah", "ellie",
                "johnathan", "colin", "katherine", "thomas",
                "carson", "jack", "ella", "matthew",
                "olivia", "zoey", "jackson"
            ];

            // Check if username is already stored
            if (!storedName) {
                let name;
                do {
                    name = prompt("Enter your username (valid usernames: " + validUsernames.join(", ") + "):");
                    // If user does not input a name, default to 'Guest'
                    if (!name) {
                        name = "Guest"; // Optional: handle case where user cancels
                    }
                } while (!validUsernames.includes(name.toLowerCase())); // Loop until a valid username is entered

                localStorage.setItem('userName', name);
                document.getElementById("greeting").innerText = "Hello, " + name + "!";
            } else {
                document.getElementById("greeting").innerText = "Hello, " + storedName + "!";
            }
        }

        // Function to toggle mute for the game iframe
        function toggleMute() {
            const muteButton = document.querySelector('.mute-button');
            const iframe = document.getElementById('game-iframe');

            let isMuted = muteButton.innerText === "Mute";
            iframe.contentWindow.postMessage({ action: isMuted ? 'mute' : 'unmute' }, '*');
            muteButton.innerText = isMuted ? "Unmute" : "Mute";
        }

        // Function to toggle fullscreen for the game iframe
        function toggleFullscreen() {
            const iframe = document.getElementById('game-iframe');
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.mozRequestFullScreen) { // Firefox
                iframe.mozRequestFullScreen();
            } else if (iframe.webkitRequestFullscreen) { // Chrome, Safari, and Opera
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) { // IE/Edge
                iframe.msRequestFullscreen();
            }
        }

        // Call askForName on page load
        window.onload = function() {
            askForName();
            loadGameState(); // Also load game state when the page loads
        };

        // Game state management
        let gameState = {
            level: 1,
            score: 0
        };

        // Function to save the game state to localStorage
        function saveGameState() {
            localStorage.setItem('gameState', JSON.stringify(gameState));
            console.log('Game state saved:', gameState);
        }

        // Function to load the game state from localStorage
        function loadGameState() {
            let savedState = localStorage.getItem('gameState');
            if (savedState) {
                gameState = JSON.parse(savedState);
                console.log('Loaded game state:', gameState);
            } else {
                console.log('No saved game state found.');
            }
        }

        // Simulate gameplay function
        function playGame() {
            gameState.score += 10; // Example of what gameplay might do
            console.log('Playing game, current score:', gameState.score);
            saveGameState(); // Save game state after gameplay
        }
    </script>

    <!-- Chatango Chat Script -->
    <script id="cid0020000389255110774" data-cfasync="false" async src="//st.chatango.com/js/gz/emb.js" style="width: 550px;height: 500px;">
        {"handle":"qaschat","arch":"js","styles":{"a":"0084ef","b":9,"c":"FFFFFF","d":"FFFFFF","f":9,"i":9,"k":"0084ef","l":"0084ef","m":"0084ef","n":"FFFFFF","o":9,"p":"10","q":"0084ef","r":9,"surl":0,"cnrs":"0.35"}}
    </script>

    <footer>
        <p>&copy; 2024 Fictus Game Development Studio. All rights reserved.</p>
    </footer>
</body>
</html>
