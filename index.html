<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmilioGames</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jockey+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif; /* Default font for body */
        }
        h1 {
            font-family: 'Lilita One', preconnect; /* Use Google font for h1 */
        }
        
        h2 {
            font-family: 'Jockey One', preconnect; /* Use Google font for h2 */
        }
        .iframe-container {
            width: 65%;
            height: 600px;
        }
        #game-iframe, #form-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <h1>Sorry <span style="color: #008000;">New</span> Website URL.</h1>
    <h2>They took old site down</h2>
    <p id="greeting">Welcome!</p>
    <p>New update</p>
    <p> </p>
    <p>Version Beta 1.25</p>
    <p> </p>
    <p> </p>

    <p></p>
    <h1>QASGG2</h1>
    <h2>If you want cloak go to</h2>
    <a href="https://monkeygg2.github.io/" target="_blank" rel="noopener">
        <button>QASGG2 Website</button>
    </a>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <div class="iframe-container">
        <iframe id="game-iframe" src="https://monkeygg2.github.io/" title="QASGG2"></iframe>
        <button class="fullscreen-button" onclick="toggleFullscreen()" <img src="https://i.ibb.co/CW5Wvry/buttonpng.png" alt="buttonpng" border="0" /> >Fullscreen</button>
        <button class="mute-button" onclick="toggleMute()">Mute</button>
        <p> </p>
        <p> </p>
        <p> </p>
        <p> </p>
        <p> </p>
        <p> </p>

    </div>
    
    <!-- Add iFrame div later -->
    
    <script>
        // Redirect to crazygames.com if the username is not valid
        function redirectToCrazyGames() {
            window.location.href = "https://crazygames.com";
        }

        // Function to ask for user's name
    function askForName() {
        let storedName = localStorage.getItem('userName');
        const validUsernames = [
            "joker", "sigma"
        ];
    
        // Check if username is already stored
        if (!storedName) {
            let name;
            do {
                name = prompt("Enter your joker or sigma:");
                // If user does not input a name, default to 'Guest'
                if (!name) {
                    name = "Guest"; // Optional: handle case where user cancels
                }
            } while (!validUsernames.includes(name.toLowerCase())); // Loop until a valid username is entered
    
            localStorage.setItem('userName', name);
            document.getElementById("greeting").innerText = "Hello, " + name + "!";
        } else {
            document.getElementById("greeting").innerText = "Hello, " + storedName + "!";
        }
    }


        // Function to toggle mute for the game iframe
        function toggleMute() {
            const muteButton = document.querySelector('.mute-button');
            const iframe = document.getElementById('game-iframe');

            let isMuted = muteButton.innerText === "Mute";
            iframe.contentWindow.postMessage({ action: isMuted ? 'mute' : 'unmute' }, '*');
            muteButton.innerText = isMuted ? "Unmute" : "Mute";
        }

        // Function to toggle fullscreen for the game iframe
        function toggleFullscreen() {
            const iframe = document.getElementById('game-iframe');
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.mozRequestFullScreen) { // Firefox
                iframe.mozRequestFullScreen();
            } else if (iframe.webkitRequestFullscreen) { // Chrome, Safari, and Opera
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) { // IE/Edge
                iframe.msRequestFullscreen();
            }
        }

        // Call askForName on page load
        window.onload = function() {
            askForName();
            loadGameState(); // Also load game state when the page loads
        };

        // Game state management
        let gameState = {
            level: 1,
            score: 0
        };

        // Function to save the game state to localStorage
        function saveGameState() {
            localStorage.setItem('gameState', JSON.stringify(gameState));
            console.log('Game state saved:', gameState);
        }

        // Function to load the game state from localStorage
        function loadGameState() {
            let savedState = localStorage.getItem('gameState');
            if (savedState) {
                gameState = JSON.parse(savedState);
                console.log('Loaded game state:', gameState);
            } else {
                console.log('No saved game state found.');
            }
        }

        // Simulate gameplay function
        function playGame() {
            gameState.score += 10; // Example of what gameplay might do
            console.log('Playing game, current score:', gameState.score);
            saveGameState(); // Save game state after gameplay
        }
    </script>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p> 
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p> 

    <script id="cid0020000389257549614" data-cfasync="false" async src="//st.chatango.com/js/gz/emb.js" style="width: 750px;height: 650px;">{"handle":"qaschat","arch":"js","styles":{"a":"330099","b":100,"c":"FFFFFF","d":"FFFFFF","k":"330099","l":"330099","m":"330099","n":"FFFFFF","p":"10","q":"330099","r":100,"cnrs":"0.35","fwtickm":1}}</script>
    
    <footer>
        <p>&copy; 2024 Fictus Game Development Studio. All rights reserved.</p>
    </footer>
</body>
</html>
